<!DOCTYPE html>
<html lang="en-us">
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta charset="UTF-8">
    <title>H-STAR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="css/normalize.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/cayman.css">
  </head>
  <body>
    <section class="page-header">    
      
      <h1 class="project-name">
      <i class="fas fa-table" style="font-size: 64px; margin-right: 10px;"></i> <!-- Table icon -->
        H-STAR
      <!-- H-STAR: LLM-driven Hybrid SQL-Text Adaptive Reasoning on Tables -->
      <i class="fas fa-code" style="font-size: 64px; margin-left: 10px; margin-right: 10px;"></i> <!-- Code snippet icon -->
      <i class="fas fa-brain" style="font-size: 64px; margin-left: 10px;"></i> <!-- Neural network icon -->
      </h1>
      <h2 class="project-tagline">A hybrid approach combining semantic and symbolic methods for table extraction and adaptive reasoning.</h2>
      <a href="https://arxiv.org/pdf/2407.05952v2" class="btn">Paper</a>
      <a href="https://github.com/nikhilsab/H-STAR" class="btn">Code</a>
    </section>

    <section class="main-content">
      <h1>
      <a id="user-content-header-1" class="anchor" href="#header-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>H-STAR: LLM-driven Hybrid SQL-Text Adaptive Reasoning on Tables</h1>

      <h2>
      <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>About</h2>
      <p style="text-align: justify;">
        H-STAR revolutionizes tabular reasoning by combining textual and symbolic approaches for <strong>precise</strong> and <strong>flexible</strong> analysis. It first extracts relevant table sections using a <strong>‘multi-view’ column extraction</strong> followed by row extraction, then adapts reasoning strategies based on question type—using <strong>semantic reasoning</strong> for lookups and complex queries while integrating <strong>symbolic reasoning</strong> for calculations and logic. Extensive evaluations show H-STAR <strong>surpasses state-of-the-art methods</strong> in tabular QA and fact verification.
      </p>

      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Need for a Hybrid Approach</h2>
        <img src="figures/reasoning.jpg" alt="Reason for H-STAR">
        <p style="text-align: justify;"> 
          Existing approaches that rely solely on either semantic/symbolic reasoning often face challenges due to the intricate interplay of numerical, temporal, and textual data, combined with complex table structures.
          While <strong>textual reasoning excels in natural language understanding</strong>, it frequently misinterprets table structures and struggles with quantitative reasoning.
          Conversely, <strong>SQL-based approaches are proficient in quantitative problem-solving</strong> but falter when handling noisy or unstructured inputs.
        </p>        
        
      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>H-STAR Overview</h2>  
        <img src="figures/main_figure.jpg" alt="Overview Of H-STAR">
        <p style="text-align: justify;">
        H-STAR enhances tabular reasoning through a two-stage process: <strong>table extraction</strong> and <strong>adaptive reasoning</strong>. It first employs a multi-view approach to extract relevant table sections, identifying columns from both the original and transposed table. The original table is then filtered to only contain the data from the selected columns before passing on to the row selection. This method ensures precise <strong>table extraction minimizing hallucinations</strong>. In the second stage, H-STAR <strong>dynamically adapts its reasoning based on the question type</strong>. It relies on semantic reasoning for lookups, common-sense, and lexical queries, while integrating symbolic (SQL-based) reasoning for mathematical and logical tasks. By combining these strengths, H-STAR surpasses traditional LLM-based text-only and SQL-only methods, achieving more accurate and flexible table-based reasoning.
      </p>

      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Results</h2>
      
      <p style="text-align: justify;">
        H-STAR framework outperforms previous state-of-the-art methods on both WikiTQ and TabFact across five Large Language Models!
      </p>

      <div class="table-container" style="display: flex; gap: 20px; font-size: 9px; margin: 0 -10px;">
        <!-- First Table -->
        <table style="border-collapse: collapse; width: 100%;">
            <thead style="border-top: 4px double black; border-bottom: 4px double black;">
                <tr>
                    <th rowspan="2"></th>
                    <th colspan="2">GPT-3.5-Turbo</th>
                    <th colspan="2">PaLM-2</th>
                </tr>
                <tr>
                    <th>TabFact</th>
                    <th>WikiTQ</th>
                    <th>TabFact</th>
                    <th>WikiTQ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="5" style="background-color: #f2f2f2; font-weight: bold; text-align: center;">Generic Reasoning</td>
                </tr>
                <tr>
                    <td>End-to-End QA</td>
                    <td>70.45</td>
                    <td>51.84</td>
                    <td>77.92</td>
                    <td>60.59</td>
                </tr>
                <tr>
                    <td>Few-shot QA</td>
                    <td>71.54</td>
                    <td>52.56</td>
                    <td>78.06</td>
                    <td>60.33</td>
                </tr>
                <tr>
                    <td>CoT</td>
                    <td>65.37</td>
                    <td>53.48</td>
                    <td>79.05</td>
                    <td>60.43</td>
                </tr>
                <tr>
                    <td colspan="5" style="background-color: #f2f2f2; font-weight: bold; text-align: center;">Table Manipulation</td>
                </tr>
                <tr>
                    <td>BINDER</td>
                    <td>79.17</td>
                    <td>56.74</td>
                    <td>76.98</td>
                    <td>54.88</td>
                </tr>
                <tr>
                    <td>DATER</td>
                    <td>78.01</td>
                    <td>52.90</td>
                    <td>84.63</td>
                    <td>61.48</td>
                </tr>
                <tr>
                    <td>Chain-of-Table</td>
                    <td>80.20</td>
                    <td>59.94</td>
                    <td style="background-color: #f2f2f2; font-weight: bold;">86.61</td>
                    <td>67.31</td>
                </tr>
                <tr>
                    <td>TabSQLify</td>
                    <td>79.50</td>
                    <td>64.70</td>
                    <td>79.78</td>
                    <td>55.78</td>
                </tr>
                <tr style="background-color: #f2f2f2; font-weight: bold; border-top: 4px double black; border-bottom: 4px double black;">
                    <td>H-STAR</td>
                    <td>83.74</td>
                    <td>68.85</td>
                    <td>85.92</td>
                    <td>68.51</td>
                </tr>
              <caption style="text-align: center;">Performance on WikiTQ and TabFact Across Different LLM Backbones.</caption>
            </tbody>
        </table>
    
        <!-- Second Table -->
        <table style="border-collapse: collapse; width: 100%;">
            <thead style="border-top: 4px double black; border-bottom: 4px double black;">
                <tr>
                    <th></th>
                    <th colspan="2">GPT-4o-mini</th>
                    <th colspan="2">Gemini-1.5</th>
                    <th colspan="2">Llama-3</th>
                </tr>
                <tr>
                    <th></th>
                    <th>TF</th>
                    <th>WTQ</th>
                    <th>TF</th>
                    <th>WTQ</th>
                    <th>TF</th>
                    <th>WTQ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th colspan="7" style="background-color: #f2f2f2; font-weight: bold; text-align: center;">Generic Reasoning</th>
                </tr>
                <tr>
                    <td>End-to-End QA</td>
                    <td>73.22</td>
                    <td>59.43</td>
                    <td>81.12</td>
                    <td>58.47</td>
                    <td>78.41</td>
                    <td>57.89</td>
                </tr>
                <tr>
                    <td>CoT</td>
                    <td>75.99</td>
                    <td>64.31</td>
                    <td>79.99</td>
                    <td>64.11</td>
                    <td>75.34</td>
                    <td>65.49</td>
                </tr>
                <tr>
                    <th colspan="7" style="background-color: #f2f2f2; font-weight: bold; text-align: center;">Table Manipulation</th>
                </tr>
                <tr>
                    <td>TabSQLify</td>
                    <td>78.30</td>
                    <td>68.74</td>
                    <td>79.50</td>
                    <td>63.92</td>
                    <td>70.00</td>
                    <td>66.85</td>
                </tr>
                <tr>
                    <td>Chain-of-Table</td>
                    <td>85.09</td>
                    <td>68.53</td>
                    <td>86.95</td>
                    <td>65.85</td>
                    <td>80.86</td>
                    <td>70.76</td>
                </tr>
                <tr style="background-color: #f2f2f2; font-weight: bold; border-top: 4px double black; border-bottom: 4px double black;">
                    <td>H-STAR</td>
                    <td>89.42</td>
                    <td>74.93</td>
                    <td>89.08</td>
                    <td>73.14</td>
                    <td>89.23</td>
                    <td>75.76</td>
                </tr>
            </tbody>
            <caption style="text-align: center;">Performance on Across Different LLM Backbones. <strong>TF:</strong> TabFact; <strong>WTQ:</strong> WikiTQ</caption>
        </table>
    </div>

      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>H-STAR's Efficiency</h2>
        <p> 
          H-STAR framework reduces the number of table cells efficiently compared to other methods that use table extraction. Furthermore, H-STAR outperforms all baselines on longer tables containing more than 4000 tokens.
        </p>

        <div style="display: flex; justify-content: center; align-items: center; gap: 20px;">
          <!-- Image on the left -->
          <figure style="width: 45%; text-align: center;">
            <img src="figures/table_reduction.jpg" alt="Extraction Efficiency" style="width: 100%;">
            <figcaption>Extraction Efficiency Comparison</figcaption>
          </figure>
      
          <!-- Table on the right -->
          <table style="border-collapse: collapse; width: 45%; font-size: 14px;">
            <thead style="border-top: 4px double black; border-bottom: 4px double black;">
                  <tr>
                      <th style="text-align: left; padding: 5px;">Method</th>
                      <th style="padding: 5px;">Small</th>
                      <th style="padding: 5px;">Medium</th>
                      <th style="padding: 5px;">Large</th>
                  </tr>
              </thead>
              <tbody>
                  <tr>
                      <td style="padding: 5px;">BINDER</td>
                      <td style="padding: 5px;">56.54</td>
                      <td style="padding: 5px;">25.13</td>
                      <td style="padding: 5px;">6.41</td>
                  </tr>
                  <tr>
                      <td style="padding: 5px;">DATER</td>
                      <td style="padding: 5px;">62.50</td>
                      <td style="padding: 5px;">42.34</td>
                      <td style="padding: 5px;">34.62</td>
                  </tr>
                  <tr>
                      <td style="padding: 5px;">Chain-of-Table</td>
                      <td style="padding: 5px;">68.13</td>
                      <td style="padding: 5px;">52.25</td>
                      <td style="padding: 5px;">44.87</td>
                  </tr>
                  <tr>
                      <td style="padding: 5px;">TabSQLify</td>
                      <td style="padding: 5px;">68.15</td>
                      <td style="padding: 5px;">57.91</td>
                      <td style="padding: 5px;">52.34</td>
                  </tr>
                  <thead style="border-top: 4px double black; border-bottom: 4px double black;">
                  <tr style="background-color: #f2f2f2; font-weight: bold;">
                      <td style="padding: 5px;">H-STAR</td>
                      <td style="padding: 5px;">71.64</td>
                      <td style="padding: 5px;">65.20</td>
                      <td style="padding: 5px;">64.84</td>
                  </tr>
                </thead>
              </tbody>
            <caption style="text-align: center;">Performance on Longer Tables</caption>
          </table>
        </div>
      
        <h2>
          <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Error Analysis</h2>
        <p> 
        H-STAR excels in table extraction and reasoning, showing fewer errors in column/row extraction and better overall performance compared to TabSQLify and BINDER, with higher reasoning errors reflecting its strong table retrieval.
        </p>
        <div style="display: flex; justify-content: center; gap: 20px;">
          <figure style="width: 45%; text-align: center;">
            <img src="figures/error_comparison.jpg" alt="Error Efficiency" style="width: 100%;">
            <figcaption>Error distribution on 100 error samples across datasets for H-STAR</figcaption>
          </figure>
          <figure style="width: 45%; text-align: center;">
            <img src="figures/performance_metrics.jpg" alt="Error Comparison" style="width: 100%;">
            <figcaption>Analysis of error types in 100 samples from WikiTQ where TabSQLify fails.</figcaption>
          </figure>
        </div>
        

      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgement</h2>
      <p> 
        This implementation is based on <a href="https://github.com/xlang-ai/Binder">Binding Language Models in Symbolic Languages</a>. The work has also benefitted from <a href="https://github.com/mahadi-nahid/TabSQLify">TabSQLify: Enhancing Reasoning Capabilities of LLMs Through Table Decomposition</a>. Thanks to the author for releasing the code.
      </p>

      <h2>
        <a id="user-content-header-2" class="anchor" href="#header-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Citation</h3>
        <p>Please cite our paper as below.</p>
        <pre><code>@article{abhyankar2024h,
            title= "H-STAR: LLM-driven Hybrid SQL-Text Adaptive Reasoning on Tables",
            author="Abhyankar, Nikhil and 
            Gupta, Vivek and 
            Roth, Dan and 
            Reddy, Chandan K",
            journal={arXiv preprint arXiv:2407.05952},
            year={2024}
          }</code></pre>
        <footer class="site-footer">
          <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman</a> theme by <a href="https://github.com/jasonlong">jasonlong</a>.</span>
        </footer>

    </section>

  </body>
</html>
